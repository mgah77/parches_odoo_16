<odoo>

    <!-- ========================= -->
    <!-- ELIMINA MENU CONTACOTS -->
    <!-- ========================= -->
    <record id="contacts.menu_contacts" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('base.group_user')), (3, ref('parches_insumar.group_wvl'))]"/>
    </record>
    

    <!-- ========================= -->
    <!-- VISTAS CLIENTES -->
    <!-- ========================= -->

    <!-- Tree Facturas Clientes -->
    <record id="view_facturas_clientes_tree" model="ir.ui.view">
        <field name="name">account.move.tree.facturas.clientes</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <tree string="Facturas de Clientes" create="false">
                <field name="sii_document_number"/>
                <field name="partner_id"/>
                <field name="invoice_date"/>
                <field name="amount_untaxed" string="Neto"/>
                <field name="amount_tax" string="IVA"/>
                <field name="amount_total"/>
            </tree>
        </field>
    </record>

    <!-- Form Facturas Clientes -->
    <record id="view_facturas_clientes_form" model="ir.ui.view">
        <field name="name">account.move.form.facturas.clientes</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <form string="Factura de Cliente" create="false">
                <sheet>
                    <group>
                        <group>
                            <field name="sii_document_number" string="Número de Factura" style="font-weight: bold;"/>
                            <field name="partner_id" options="{'no_open': True}" style="font-weight: bold;"/>
                            <field name="document_number" options="{'no_open': True}" style="font-weight: bold;"/>
                            <field name="activity_description" options="{'no_open': True}"/>
                        </group>
                        <group>
                            <field name="company_id" invisible="1"/>
                            <field name="invoice_date" readonly="1" string="Fecha de emisión"/>
                            <field name="invoice_date_due" readonly="1"/>
                            <field name="forma_pago" readonly="1"/>
                        </group>
                    </group>                    
                    <notebook>
                        <page string="Líneas" style="border:1px solid black;">
                            <field name="invoice_line_ids">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <field name="quantity" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="price_unit" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="price_subtotal" readonly="1" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="company_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>                   
                    <group col="12" class="oe_invoice_lines_tab">
                    <group colspan="8">
                    </group>
                                            <!-- Totals (only invoices / receipts) -->
                        <group colspan="4" class="text-end">
                            <group style="border:1px solid gray;">
                            
                                <field name="amount_untaxed" string="Neto" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px;"/>
                                <field name="amount_tax" string="IVA" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px;"/>
                                <field name="amount_total" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px; font-weight: bold;"/>
                            
                            </group>                                        
                        </group>
                </group>
                </sheet>
            </form>
        </field>        
    </record>

    <!-- Tree Rectificativas Clientes -->
    <record id="view_rectificativas_clientes_tree" model="ir.ui.view">
        <field name="name">account.move.tree.rectificativas.clientes</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <tree string="Rectificativas de Clientes" create="false">
                <field name="sii_document_number"/>
                <field name="partner_id" options="{'no_open': True}"/>
                <field name="invoice_date"/>
                <field name="amount_untaxed" string="Neto"/>
                <field name="amount_tax" string="IVA"/>
                <field name="amount_total"/>
            </tree>
        </field>
    </record>

    <!-- Form Rectificativas Clientes -->
    <record id="view_rectificativas_clientes_form" model="ir.ui.view">
        <field name="name">account.move.form.rectificativas.clientes</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <form string="Factura Rectificativa Cliente" create="false">
                <sheet>
                    <group>
                        <group>
                            <field name="sii_document_number" string="Número de Factura" style="font-weight: bold;"/>
                            <field name="partner_id" options="{'no_open': True}" style="font-weight: bold;"/>
                            <field name="document_number" options="{'no_open': True}" style="font-weight: bold;"/>
                            <field name="activity_description" options="{'no_open': True}"/>
                        </group>
                        <group>
                            <field name="company_id" invisible="1"/>
                            <field name="invoice_date" readonly="1" string="Fecha de emisión"/>
                            <field name="invoice_date_due" readonly="1"/>
                            <field name="forma_pago" readonly="1"/>
                        </group>
                    </group>                    
                    <notebook>
                        <page string="Líneas" style="border:1px solid black;">
                            <field name="invoice_line_ids">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <field name="quantity" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="price_unit" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="price_subtotal" readonly="1" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="company_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>                   
                    <group col="12" class="oe_invoice_lines_tab">
                    <group colspan="8">
                    </group>
                                            <!-- Totals (only invoices / receipts) -->
                        <group colspan="4" class="text-end">
                            <group style="border:1px solid gray;">
                            
                                <field name="amount_untaxed" string="Neto" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px;"/>
                                <field name="amount_tax" string="IVA" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px;"/>
                                <field name="amount_total" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px; font-weight: bold;"/>
                            
                            </group>                                        
                        </group>
                </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ========================= -->
    <!-- VISTAS PROVEEDORES -->
    <!-- ========================= -->

    <!-- Tree Facturas Proveedores -->
    <record id="view_facturas_proveedores_tree" model="ir.ui.view">
        <field name="name">account.move.tree.facturas.proveedores</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <tree string="Facturas de Proveedores" create="false">
                <field name="sii_document_number"/>
                <field name="partner_id"/>
                <field name="invoice_date"/>
                <field name="amount_untaxed" string="Neto"/>
                <field name="amount_tax" string="IVA"/>
                <field name="amount_total"/>
            </tree>
        </field>
    </record>

    <!-- Form Facturas Proveedores -->
    <record id="view_facturas_proveedores_form" model="ir.ui.view">
        <field name="name">account.move.form.facturas.proveedores</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <form string="Factura de Proveedor" create="false">
                <sheet>
                    <group>
                        <group>
                            <field name="sii_document_number" string="Número de Factura" style="font-weight: bold;"/>
                            <field name="partner_id" options="{'no_open': True}" style="font-weight: bold;"/>
                            <field name="document_number" options="{'no_open': True}" style="font-weight: bold;"/>
                            <field name="activity_description" options="{'no_open': True}"/>
                        </group>
                        <group>
                            <field name="company_id" invisible="1"/>
                            <field name="invoice_date" readonly="1" string="Fecha de emisión"/>
                            <field name="invoice_date_due" readonly="1"/>
                            <field name="forma_pago" readonly="1"/>
                        </group>
                    </group>                    
                    <notebook>
                        <page string="Líneas" style="border:1px solid black;">
                            <field name="invoice_line_ids">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <field name="quantity" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="price_unit" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="price_subtotal" readonly="1" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="company_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>                   
                    <group col="12" class="oe_invoice_lines_tab">
                    <group colspan="8">
                    </group>
                                            <!-- Totals (only invoices / receipts) -->
                        <group colspan="4" class="text-end">
                            <group style="border:1px solid gray;">
                            
                                <field name="amount_untaxed" string="Neto" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px;"/>
                                <field name="amount_tax" string="IVA" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px;"/>
                                <field name="amount_total" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px; font-weight: bold;"/>
                            
                            </group>                                        
                        </group>
                </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Tree Rectificativas Proveedores -->
    <record id="view_rectificativas_proveedores_tree" model="ir.ui.view">
        <field name="name">account.move.tree.rectificativas.proveedores</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <tree string="Rectificativas de Proveedores" create="false">
                <field name="sii_document_number"/>
                <field name="partner_id"/>
                <field name="invoice_date"/>
                <field name="amount_untaxed" string="Neto"/>
                <field name="amount_tax" string="IVA"/>
                <field name="amount_total"/>
            </tree>
        </field>
    </record>

    <!-- Form Rectificativas Proveedores -->
    <record id="view_rectificativas_proveedores_form" model="ir.ui.view">
        <field name="name">account.move.form.rectificativas.proveedores</field>
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <form string="Factura Rectificativa Proveedor" create="false">
                <sheet>
                    <group>
                        <group>
                            <field name="sii_document_number" string="Número de Factura" style="font-weight: bold;"/>
                            <field name="partner_id" options="{'no_open': True}" style="font-weight: bold;"/>
                            <field name="document_number" options="{'no_open': True}" style="font-weight: bold;"/>
                            <field name="activity_description" options="{'no_open': True}"/>
                        </group>
                        <group>
                            <field name="company_id" invisible="1"/>
                            <field name="invoice_date" readonly="1" string="Fecha de emisión"/>
                            <field name="invoice_date_due" readonly="1"/>
                            <field name="forma_pago" readonly="1"/>
                        </group>
                    </group>                    
                    <notebook>
                        <page string="Líneas" style="border:1px solid black;">
                            <field name="invoice_line_ids">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <field name="quantity" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="price_unit" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="price_subtotal" readonly="1" widget="float" options="{'digits': [16, 0]}"/>
                                    <field name="company_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>                   
                    <group col="12" class="oe_invoice_lines_tab">
                    <group colspan="8">
                    </group>
                                            <!-- Totals (only invoices / receipts) -->
                        <group colspan="4" class="text-end">
                            <group style="border:1px solid gray;">
                            
                                <field name="amount_untaxed" string="Neto" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px;"/>
                                <field name="amount_tax" string="IVA" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px;"/>
                                <field name="amount_total" widget="float" options="{'digits': [16, 0]}" style="font-size: 16px; font-weight: bold;"/>
                            
                            </group>                                        
                        </group>
                </group>
                </sheet>
            </form>
        </field>
    </record>


    <!-- FACTURAS CLIENTES -->
    <record id="action_facturas_clientes" model="ir.actions.act_window">
        <field name="name">Facturas a Clientes</field>
        <field name="res_model">account.move</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('move_type','=','out_invoice')]</field>
        <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('view_facturas_clientes_tree')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('view_facturas_clientes_form')})
        ]"/>
    </record>


    <!-- RECTIFICATIVAS CLIENTES -->
    <record id="action_rectificativas_clientes" model="ir.actions.act_window">
        <field name="name">Notas de Crédito a Clientes</field>
        <field name="res_model">account.move</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('move_type','=','out_refund')]</field>
        <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('view_rectificativas_clientes_tree')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('view_rectificativas_clientes_form')})
        ]"/>
    </record>


    <!-- FACTURAS PROVEEDORES -->
    <record id="action_facturas_proveedores" model="ir.actions.act_window">
        <field name="name">Facturas de Proveedores</field>
        <field name="res_model">account.move</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('move_type','=','in_invoice')]</field>
        <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('view_facturas_proveedores_tree')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('view_facturas_proveedores_form')})
        ]"/>
    </record>


    <!-- RECTIFICATIVAS PROVEEDORES -->
    <record id="action_rectificativas_proveedores" model="ir.actions.act_window">
        <field name="name">Notas de Crédito de Proveedores</field>
        <field name="res_model">account.move</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('move_type','=','in_refund')]</field>
        <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('view_rectificativas_proveedores_tree')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('view_rectificativas_proveedores_form')})
        ]"/>
    </record>

    <!-- ========================= -->
    <!-- MENÚ RAÍZ -->
    <!-- ========================= -->
    <menuitem id="menu_root_nueva_facturacion"
              name="Contabilidad"
              parent=""
              groups="parches_insumar.group_wvl"
              sequence="77"/>

    <!-- ========================= -->
    <!-- CLIENTES -->
    <!-- ========================= -->
    <menuitem id="menu_clientes"
              name="Clientes"
              parent="menu_root_nueva_facturacion"
              sequence="10"/>

    <!-- ========================= -->
    <!-- PROVEEDORES -->
    <!-- ========================= -->
    <menuitem id="menu_proveedores"
              name="Proveedores"
              parent="menu_root_nueva_facturacion"
              sequence="2"/>

    <menuitem id="menu_facturas_clientes"
              name="Facturas"
              parent="menu_clientes"
              action="action_facturas_clientes"
              sequence="1"/>

        <menuitem id="menu_rectificativas_clientes"
              name="Notas de Credito"
              parent="menu_clientes"
              action="action_rectificativas_clientes"
              sequence="2"/>

        <menuitem id="menu_facturas_proveedores"
              name="Facturas"
              parent="menu_proveedores"
              action="action_facturas_proveedores"
              sequence="1"/>

    <menuitem id="menu_rectificativas_proveedores"
              name="Notas de Credito"
              parent="menu_proveedores"
              action="action_rectificativas_proveedores"
              sequence="2"/>

</odoo>

